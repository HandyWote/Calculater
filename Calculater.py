# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'main.ui'
#
# Created by: PyQt5 UI code generator 5.15.11
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.

import sys
from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtWidgets import QWidget, QApplication, QPushButton
from pygame.examples.glcube import translate


class Ui_Form(QWidget):
    def __init__(self):
        super().__init__()
        self.setupUi(self)
        self.sentence = []
        self.dict = {'÷' : '/',
                     '×' : '*'}

    def setupUi(self, Form):
        Form.setObjectName("Form")
        Form.resize(222, 316)
        Form.setToolTip("")
        self.num4 = QtWidgets.QPushButton(Form)
        self.num4.setGeometry(QtCore.QRect(110, 150, 50, 50))
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Fixed, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.num4.sizePolicy().hasHeightForWidth())
        self.num4.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num4.setFont(font)
        self.num4.setObjectName("num4")
        self.num1 = QtWidgets.QPushButton(Form)
        self.num1.setGeometry(QtCore.QRect(110, 200, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num1.setFont(font)
        self.num1.setObjectName("num1")
        self.funDivide = QtWidgets.QPushButton(Form)
        self.funDivide.setGeometry(QtCore.QRect(160, 100, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.funDivide.setFont(font)
        self.funDivide.setObjectName("funDivide")
        self.num5 = QtWidgets.QPushButton(Form)
        self.num5.setGeometry(QtCore.QRect(60, 150, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num5.setFont(font)
        self.num5.setObjectName("num5")
        self.num2 = QtWidgets.QPushButton(Form)
        self.num2.setGeometry(QtCore.QRect(60, 200, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num2.setFont(font)
        self.num2.setObjectName("num2")
        self.point = QtWidgets.QPushButton(Form)
        self.point.setGeometry(QtCore.QRect(10, 250, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.point.setFont(font)
        self.point.setObjectName("point")
        self.funPlus = QtWidgets.QPushButton(Form)
        self.funPlus.setGeometry(QtCore.QRect(160, 200, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(16)
        font.setBold(True)
        font.setWeight(75)
        self.funPlus.setFont(font)
        self.funPlus.setObjectName("funPlus")
        self.num0 = QtWidgets.QPushButton(Form)
        self.num0.setGeometry(QtCore.QRect(60, 250, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num0.setFont(font)
        self.num0.setObjectName("num0")
        self.num3 = QtWidgets.QPushButton(Form)
        self.num3.setGeometry(QtCore.QRect(10, 200, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num3.setFont(font)
        self.num3.setObjectName("num3")
        self.funMultiplication = QtWidgets.QPushButton(Form)
        self.funMultiplication.setGeometry(QtCore.QRect(160, 150, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.funMultiplication.setFont(font)
        self.funMultiplication.setObjectName("funMultiplication")
        self.num6 = QtWidgets.QPushButton(Form)
        self.num6.setGeometry(QtCore.QRect(10, 150, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num6.setFont(font)
        self.num6.setObjectName("num6")
        self.num9 = QtWidgets.QPushButton(Form)
        self.num9.setGeometry(QtCore.QRect(10, 100, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num9.setFont(font)
        self.num9.setObjectName("num9")
        self.num7 = QtWidgets.QPushButton(Form)
        self.num7.setGeometry(QtCore.QRect(110, 100, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num7.setFont(font)
        self.num7.setObjectName("num7")
        self.funEqual = QtWidgets.QPushButton(Form)
        self.funEqual.setGeometry(QtCore.QRect(160, 250, 50, 25))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.funEqual.setFont(font)
        self.funEqual.setObjectName("funEqual")
        self.funSubtraction = QtWidgets.QPushButton(Form)
        self.funSubtraction.setGeometry(QtCore.QRect(110, 250, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setItalic(False)
        font.setUnderline(False)
        font.setWeight(75)
        font.setStrikeOut(True)
        self.funSubtraction.setFont(font)
        self.funSubtraction.setObjectName("funSubtraction")
        self.num8 = QtWidgets.QPushButton(Form)
        self.num8.setGeometry(QtCore.QRect(60, 100, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num8.setFont(font)
        self.num8.setObjectName("num8")
        self.monitor = QtWidgets.QTextEdit(Form)
        self.monitor.setGeometry(QtCore.QRect(10, 10, 201, 81))
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Expanding)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.monitor.sizePolicy().hasHeightForWidth())
        self.monitor.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.monitor.setFont(font)
        self.monitor.viewport().setProperty("cursor", QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.monitor.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.monitor.setAutoFillBackground(True)
        self.monitor.setLineWrapMode(QtWidgets.QTextEdit.WidgetWidth)
        self.monitor.setTextInteractionFlags(QtCore.Qt.TextSelectableByKeyboard|QtCore.Qt.TextSelectableByMouse)
        self.monitor.setPlaceholderText("")
        self.monitor.setObjectName("monitor")
        self.clear = QtWidgets.QPushButton(Form)
        self.clear.setGeometry(QtCore.QRect(160, 279, 50, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.clear.setFont(font)
        self.clear.setObjectName("clear")
        self.author = QtWidgets.QLabel(Form)
        self.author.setGeometry(QtCore.QRect(80, 300, 71, 16))
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.author.setFont(font)
        self.author.setObjectName("author")

        self.retranslateUi(Form)
        self.clear.clicked.connect(self.monitor.clear)
        self.num0.clicked.connect(self.putOn)
        self.num1.clicked.connect(self.putOn)
        self.num2.clicked.connect(self.putOn)
        self.num3.clicked.connect(self.putOn)
        self.num4.clicked.connect(self.putOn)
        self.num5.clicked.connect(self.putOn)
        self.num6.clicked.connect(self.putOn)
        self.num7.clicked.connect(self.putOn)
        self.num8.clicked.connect(self.putOn)
        self.num9.clicked.connect(self.putOn)
        self.funPlus.clicked.connect(self.putOn)
        self.funDivide.clicked.connect(self.putOn)
        self.funSubtraction.clicked.connect(self.putOn)
        self.funMultiplication.clicked.connect(self.putOn)
        self.funEqual.clicked.connect(self.solve)
        QtCore.QMetaObject.connectSlotsByName(Form)

    def retranslateUi(self, Form):
        _translate = QtCore.QCoreApplication.translate
        Form.setWindowTitle(_translate("Form", "计算器"))
        self.num4.setText(_translate("Form", "4"))
        self.num1.setText(_translate("Form", "1"))
        self.funDivide.setText(_translate("Form", "÷"))
        self.num5.setText(_translate("Form", "5"))
        self.num2.setText(_translate("Form", "2"))
        self.point.setText(_translate("Form", "."))
        self.funPlus.setText(_translate("Form", "+"))
        self.num0.setText(_translate("Form", "0"))
        self.num3.setText(_translate("Form", "3"))
        self.funMultiplication.setText(_translate("Form", "×"))
        self.num6.setText(_translate("Form", "6"))
        self.num9.setText(_translate("Form", "9"))
        self.num7.setText(_translate("Form", "7"))
        self.funEqual.setText(_translate("Form", "="))
        self.funSubtraction.setText(_translate("Form", "-"))
        self.num8.setText(_translate("Form", "8"))
        self.clear.setText(_translate("Form", "清除"))
        self.author.setText(_translate("Form", "<a href=\'https://github.com/HandyWote/Calculater.git\'>HandyWote</a>"))

    def putOn(self):
        button = app.sender()
        i = ''
        if isinstance(button, QPushButton):
            i = button.text()
        self.sentence.append(i)
        self.monitor.setText(str(self.sentence))

    def solve(self):
        s0 = str(self.sentence)
        s1 = self.translate(s0)
        try:
            answer = str(eval(s1))
            self.sentence = [answer]
            self.monitor.setText(answer)
        except:
            self.sentence = []
            self.monitor.setText("Error")

    def translate(self, s0):
        s1 = ''
        for c in s0:
            if c in self.dict:
                s1 += self.dict[c]
            else:
                s1 += c
        return s1

if __name__ == "__main__":
    app = QApplication(sys.argv)
    Dlg = Ui_Form()
    Dlg.show()
    sys.exit(app.exec_())